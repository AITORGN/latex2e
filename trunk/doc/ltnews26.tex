% \iffalse meta-comment
%
% Copyright 2016
% The LaTeX3 Project and any individual authors listed elsewhere
% in this file.
%
% This file is part of the LaTeX base system.
% -------------------------------------------
%
% It may be distributed and/or modified under the
% conditions of the LaTeX Project Public License, either version 1.3c
% of this license or (at your option) any later version.
% The latest version of this license is in
%    http://www.latex-project.org/lppl.txt
% and version 1.3c or later is part of all distributions of LaTeX
% version 2005/12/01 or later.
%
% This file has the LPPL maintenance status "maintained".
%
% The list of all files belonging to the LaTeX base distribution is
% given in the file `manifest.txt'. See also `legal.txt' for additional
% information.
%
% The list of derived (unpacked) files belonging to the distribution
% and covered by LPPL is defined by the unpacking scripts (with
% extension .ins) which are part of the distribution.
%
% \fi
% Filename: ltnews26.tex
%
% This is issue 26 of LaTeX News.

\documentclass{ltnews}
\usepackage[T1]{fontenc}

\usepackage{lmodern,url,hologo}


\publicationmonth{December}
\publicationyear{2016}

\publicationissue{26}

\begin{document}

\maketitle
\tableofcontents

\rightskip=0pt plus 3em
\section{\eTeX{}}

In \LaTeX{} News~16 (December 2003) the team announced
\begin{quotation}
We expect that within the next two years, releases of \LaTeX{} will
change modestly in order to run best under an extended \TeX{} engine
that contains the \eTeX{} primitives, e.g., \eTeX{} or pdf\TeX{}.
\end{quotation}
and also said
\begin{quotation}
Although the current release does not \emph{require} \eTeX{} features, we
certainly recommend using an extended \TeX{}, especially if you need to debug
macros.
\end{quotation}

For many years the team have worked on the basis that users will have \eTeX{}
available but had not revisited the above statements formally. As of the
January 2017 release of \LaTeXe{}, \eTeX{} is \emph{required} to build the
format, and attempting to build a format without the extensions will fail.

Practically, modern \TeX{} distributions provide the extensions in all engines
other than the ``pure'' Knuth \texttt{tex}, and indeed parts of the
format-building process already require \eTeX{}, most notably some of the UTF-8
hyphenation patterns. As such, there should be no noticeable affect on users of
this change.

The team expect to make wider use of \eTeX{} within the kernel in future;
details will be announced where they impact on end users in a visible way.

\section{Default Encodings in \hologo{XeLaTeX} and \hologo{LuaLaTeX}}
The default encoding in \LaTeX\ has always been the original
127-character encoding OT1.  For Unicode based \TeX\ engines, this
is not really suitable, and is especially problematic with
\hologo{XeLaTeX} as in the major distributions this is built with
Unicode base hyphenation patterns in the format.  In practice this has
not been a major problem as documents use the contributed
\textsf{fontspec} package in order to switch to a
Unicode encoded font.

In this release we are adding TU as a new supported
encoding in addition to the previously supported encodings such as OT1
and T1. This denotes a Unicode based font encoding. It is essentially
the same as the TU encoding that has been on trial with the
experimental \texttt{tuenc} option to \textsf{fontspec} for the past
year.

The \hologo{XeLaTeX} and \hologo{LuaLaTeX} formats will now default
to \texttt{TU} encoding and \texttt{lmr} (Latin Modern) family. In the
case of \hologo{LuaLaTeX} the contributed \textsf{luaotfload} Lua
module will be loaded at the start of each run to enable the loading
of OpenType fonts.

The \textsf{fontspec} package is being adjusted in a companion release
to recognise the new encoding default arrangements.

Note that in practice no font supports the full Unicode range, and so
TU encoded fonts, unlike fonts specified for T1, may be expected to be
incomplete in various ways. In the current release the file
\texttt{tuenc.def} that implements the TU encoding-specific commands
has made some basic assumptions for (for example) default handling of
accent commands, and the set of command names is derived from the
command names used for the UTF-8 support in the inputenc package,
restricted roughly to the character ranges classically provided by
the T1 and TS1 encodings, but is part of a longer term plan seen over
recent releases to increase support for Unicode based \TeX\ engines into
the core \LaTeX\ support.



If for any reason you need to process a document with the previous
default OT1 encoding, you may switch encoding in the usual ways, for
example
\begin{verbatim}
\usepackage[OT1]{fontenc}
\end{verbatim}
or you may roll back all the changes for this release by starting the
document with
\begin{verbatim}
\RequirePackage[2016/03/31]{latexrelease}
\end{verbatim}

\section{The \textsf{latexbug} package}

As explained in more detail
\href{https://www.latex-project.org/bugs/}{at the \LaTeX\ Project
  website},
A new package, \textsf{latexbug}, has been produced to help produce
test files to accompany bug reports on the core \LaTeX\ distribution.
This is being published separately to CTAN at the same time as this
release. By using the \textsf{latexbug} package you can easily check
that the packages involved in the test are all part of the core
release. The \LaTeX\ project can not handle bug reports on contributed
packages, which should be directed to the package maintainer as given
in the package documentation.

\section{Updates to \textsf{amsmath}}
The \textsf{amsmath} package has two updates at this release.
\begin{itemize}
\item The spacing to the left of the \texttt{aligned} and
  \texttt{gathered} environments has been fixed, the spurious thin
  space is no longer added by default. Package options control this
  to revert to the original behaviour where required, see the
  \textsf{amsldoc} guide for further details. 
\item The large delimiters around generalised fractions (for example
  in the \verb|\binom| construct) did not work in previous releases if
  using Lua\TeX or Xe\TeX\ with OpenType math fonts. This is releated
  to the lack of specific metrcs for this use in the OpenType Math
  table. In principle Lua\TeX\ has two additional named metrics
  to control the delimiters but these are not initialised by default,
  and in Xe\TeX\ it does not seem possible to make them work at all.
  So for Unicode \TeX\ systems, a new implementation of
  \verb|\genfrac| is used at this release that uses \verb|\left\right|
  internally but parameterised to give spacing as close to the
  original as possible. The implementation in (pdf)\TeX\ is
  unaffected.
\end{itemize}

\section{An addendum to the release changes in 2015}

In 2015 we announced the introduction of the roll-back\slash
roll-forward concept to manage bug fixes and additions to core
\LaTeX{} in a manageable way for the user base. We also announced back
then that we now incorporate all fixes from \textsf{fixltx2e} into the
kernel (as the old mechanism produced problems instead of improving
the situation). Refer to
\href{https://www.latex-project.org/news/latex2e-news/ltnews22.pdf}{\texttt{ltnews22.pdf}}
for details.

One of the fixes from \textsf{fixltx2e} was for a glaring bug in
\cs{addvspace} that was originally detected in the mid-nineties and
back then added to the \textsf{fixltx2e} support package. In certain
situations \cs{addvspace} would result in a page/column break below
the baseline of the last line. As a result documents using
\cs{flushbottom} would show a clear misalignment (even more prominent
when typesetting in two-column mode).

Starting with release 2015/01/01 this is now finally corrected already
in the kernel and not only in \textsf{fixltx2e}. In nearly all
circumstances this will either not make any difference to existing
documents or if it does locally impove the visual appearence of that
document. It is, however, by the nature of the change also possible
that there are changes to the page breaks due to the different break
positions introduced by the fix.

Thus, for documents that have been written before 2015 and that should
be preserved unchanged at all costs you may have to add
\begin{verbatim}
\RequirePackage[2014/01/01]{latexrelease}
\end{verbatim}
at the top of the document, to roll back the format to a date before
the policy change.

\end{document}
